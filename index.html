<!DOCTYPE html>
<html lang="ar" dir="rtl" class="theme-dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุณุงุจูุฉ ุงููุนูููุงุช - ูุนุจุฉ ุงูุชุญุฏู</title>
    <!-- ุงุณุชูุฑุงุฏ ุงูุฎุท ุงูุนุฑุจู: ุงููุงูุฑุฉ -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <!-- ุงุณุชูุฑุงุฏ ููุชุจุฉ ุงูุฃููููุงุช Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- ุงุณุชูุฑุงุฏ ููู ุงูุชุตููู -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- -------------------------------------- -->
    <!-- ุดุฑูุท ุงูุชุฑููุณุฉ ุงูุซุงุจุช -->
    <!-- -------------------------------------- -->
    <header id="header">
        <h2 id="app-title">ูุณุงุจูุฉ ุงููุนูููุงุช</h2>
        <button id="theme-toggle-btn" class="theme-toggle-btn" title="ุชุจุฏูู ุงููุถุน">
            <!-- ุฃููููุฉ ุงูููุฑ ูููุถุน ุงููุธููุ ุณุชุชุบูุฑ ุจุงูู JS -->
            <i class="fas fa-sun"></i>
        </button>
    </header>

    <!-- -------------------------------------- -->
    <!-- ุญุงููุฉ ุงูุชุทุจูู ุงูุฑุฆูุณูุฉ -->
    <!-- -------------------------------------- -->
    <div id="app-container">
        <!-- ุดุงุดุฉ ุงูุชุญููู ุงูุฃูููุฉ -->
        <div id="loader" class="screen active">
            <span class="spinner"></span>
            <span>ุฌุงุฑู ุงูุชุญููู...</span>
        </div>

        <!-- 1. ุดุงุดุฉ ุงูุจุฏุงูุฉ -->
        <div id="start-screen" class="screen">
            <h1>ุฃููุงู ุจู ูู ูุณุงุจูุฉ ุงููุนูููุงุช!</h1>
            <p>ุงุฎุชุจุฑ ูุนูููุงุชู ูุชูุงูุณ ูุน ุงูุฃุตุฏูุงุก.</p>
            <button id="btn-start-playing" class="btn btn-primary">ุงุจุฏุฃ ุงููุนุจ</button>
            <button id="btn-view-leaderboard" class="btn btn-secondary" style="margin-top: 10px;">ููุญุฉ ุงูุตุฏุงุฑุฉ</button>
            <button id="btn-developer-mode" class="btn btn-secondary text-sm" style="margin-top: 20px;">ูุถุน ุงููุทููุฑ</button>
        </div>

        <!-- 2. ุดุงุดุฉ ุฅุนุฏุงุฏ ุงูููู ุงูุดุฎุตู (ุงุฎุชูุงุฑ ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ ูุงูุงุณู) -->
        <div id="profile-setup-screen" class="screen">
            <h2>ุฅุนุฏุงุฏ ุงูููู ุงูุดุฎุตู</h2>
            <div class="form-group" style="text-align: center;">
                <label>
                    <img id="player-avatar" src="https://placehold.co/100x100/3b82f6/ffffff?text=ุตูุฑุฉ" alt="ุตูุฑุฉ ุฑูุฒูุฉ" class="leaderboard-avatar" style="width: 100px; height: 100px; cursor: pointer; margin-bottom: 10px;">
                    <p class="text-sm">ุงุถุบุท ูุงุฎุชูุงุฑ ุตูุฑุฉ</p>
                </label>
                <input type="hidden" id="avatar-input" value="1"> <!-- ูุชุฎุฒูู ุฑูู ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ -->
            </div>

            <div class="form-group">
                <label for="name-input">ุงูุงุณู:</label>
                <input type="text" id="name-input" class="input-text" placeholder="ุฃุฏุฎู ุงุณูู (2-25 ุญุฑู)">
                <p id="name-error" class="text-sm" style="color: var(--color-wrong); margin-top: 5px;"></p>
            </div>

            <button id="btn-confirm-profile" class="btn btn-primary">ุชุฃููุฏ ุงูุงุณู ูุจุฏุก ุงููุนุจ</button>
        </div>

        <!-- 3. ุดุงุดุฉ ุงูุชุนูููุงุช -->
        <div id="instructions-screen" class="screen">
            <h2>ุชุนูููุงุช ุงููุณุงุจูุฉ</h2>
            <p>ุงุณุชุนุฏ ูุงุฎุชุจุงุฑ ูุนูููุงุชู! ููุงุนุฏ ุงููุนุจ:</p>
            <ul>
                <li><i class="fas fa-clock" style="color: var(--level-medium);"></i> ูุฏูู 30 ุซุงููุฉ ููุฅุฌุงุจุฉ ุนูู ูู ุณุคุงู.</li>
                <li><i class="fas fa-check" style="color: var(--level-easy);"></i> ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ: +100 ููุทุฉ (+50 ููุงูุฃุฉ ุณุฑุนุฉ).</li>
                <li><i class="fas fa-times" style="color: var(--level-impossible);"></i> ุงูุฅุฌุงุจุฉ ุงูุฎุงุทุฆุฉ ุฃู ุงูุชูุงุก ุงูููุช: -50 ููุทุฉ.</li>
                <li><i class="fas fa-heart" style="color: var(--color-wrong);"></i> ูุณููุญ ุจู 3 ุฃุฎุทุงุก ูู ูู ุฌููุฉ.</li>
            </ul>
            <p style="font-weight: bold; margin-top: 20px;">ุงููุณุชููุงุช: 10 ุณูู โ 10 ูุชูุณุท โ 10 ุตุนุจ โ 1 ูุณุชุญูู.</p>
            <button id="btn-start-game" class="btn btn-primary">ุจุฏุก ุงูุฌููุฉ ุงูุขู</button>
        </div>

        <!-- 4. ุดุงุดุฉ ุงููุนุจ ุงูุฑุฆูุณูุฉ -->
        <div id="quiz-game-screen" class="screen">
            <div id="timer-bar">
                <div id="timer-progress"></div>
            </div>

            <!-- ูุนูููุงุช ุงููุนุจุฉ ุงูุญุงููุฉ -->
            <div id="game-status" style="display: flex; justify-content: space-between; margin-bottom: var(--space-4);">
                <span id="level-info" class="text-sm">ุงููุณุชูู: ุณูู</span>
                <span id="score-display" class="text-sm">ุงูููุงุท: 0</span>
                <span id="errors-display" class="text-sm" style="color: var(--color-wrong);"><i class="fas fa-heart"></i> 3</span>
            </div>

            <!-- ุตู ุงููุณุงุนุฏุงุช -->
            <div id="helpers-row">
                <button id="helper-50-50" class="helper-btn" title="ุญุฐู ุฎูุงุฑูู ุฎุงุทุฆูู">
                    <span class="icon">50:50</span>
                    <span>50:50</span>
                </button>
                <button id="helper-freeze" class="helper-btn" title="ุชุฌููุฏ ุงูููุช (10 ุซูุงูู)">
                    <span class="icon"><i class="fas fa-snowflake"></i></span>
                    <span>ุชุฌููุฏ</span>
                </button>
                <button id="helper-skip" class="helper-btn" title="ุชุฎุทู ุงูุณุคุงู ุจุณุนุฑ ุงูููุงุท">
                    <span class="icon"><i class="fas fa-forward"></i></span>
                    <span>ุชุฎุทู</span>
                    <span id="skip-cost-badge" class="skip-cost-badge">-20 ููุทุฉ</span>
                </button>
            </div>

            <!-- ููุทูุฉ ุงูุณุคุงู ูุงูุฎูุงุฑุงุช -->
            <p id="question-text">ูุต ุงูุณุคุงู ุณูุธูุฑ ููุง...</p>
            <div id="options-container" class="options-container">
                <button class="option-btn" data-index="0">ุงูุฎูุงุฑ ุงูุฃูู</button>
                <button class="option-btn" data-index="1">ุงูุฎูุงุฑ ุงูุซุงูู</button>
                <button class="option-btn" data-index="2">ุงูุฎูุงุฑ ุงูุซุงูุซ</button>
                <button class="option-btn" data-index="3">ุงูุฎูุงุฑ ุงูุฑุงุจุน</button>
            </div>
            
            <button id="btn-report-question" class="btn btn-secondary text-sm" style="margin-top: 20px; width: auto;">ุงูุฅุจูุงุบ ุนู ุงูุณุคุงู</button>
        </div>

        <!-- 5. ุดุงุดุฉ ููุงูุฉ ุงููุณุชูู -->
        <div id="level-end-screen" class="screen">
            <h2>ุชูุงูููุง!</h2>
            <p id="level-end-message">ููุฏ ุฃูููุช ุงููุณุชูู ุงูุญุงูู ุจูุฌุงุญ.</p>
            <p>ููุงุทู ุงูุญุงููุฉ: <span id="current-total-score" style="font-weight: bold; color: var(--level-easy);">0</span></p>

            <button id="btn-next-level" class="btn btn-primary">ุงููุณุชูู ุงูุชุงูู</button>
            <button id="btn-withdraw" class="btn btn-secondary" style="margin-top: 10px;">ุงูุงูุณุญุงุจ ูุนุฑุถ ุงููุชุงุฆุฌ</button>
        </div>

        <!-- 6. ุดุงุดุฉ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ -->
        <div id="final-results-screen" class="screen">
            <h2 style="color: var(--level-medium); text-align: center;">๐ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ ๐</h2>
            <div id="results-details" style="background-color: var(--color-secondary); padding: var(--space-4); border-radius: var(--space-2);">
                <!-- ุณูุชู ููุก ุงูุชูุงุตูู ููุง ุจูุงุณุทุฉ JS -->
            </div>
            <div style="margin-top: var(--space-6); display: flex; gap: var(--space-3);">
                <button id="btn-share-x" class="btn btn-secondary"><i class="fab fa-twitter"></i> ุงูุดุฑ ุนูู ๐</button>
                <button id="btn-copy-results" class="btn btn-primary"><i class="fas fa-copy"></i> ุงูุณุฎ ุงููุต</button>
            </div>
            <button id="btn-play-again" class="btn btn-secondary" style="margin-top: 10px;">ุงูุนูุฏุฉ ููุจุฏุงูุฉ</button>
        </div>

        <!-- 7. ููุญุฉ ุงูุตุฏุงุฑุฉ -->
        <div id="leaderboard-screen" class="screen">
            <h2>ููุญุฉ ุงูุตุฏุงุฑุฉ</h2>
            <div style="display: flex; gap: var(--space-3); margin-bottom: var(--space-4);">
                <button class="btn btn-secondary btn-filter active" data-filter="all">ุงููู</button>
                <button class="btn btn-secondary btn-filter" data-filter="top10">ุฃูุถู 10</button>
                <button class="btn btn-secondary btn-filter" data-filter="impossible">ูุชุฎุทูู ุงููุณุชุญูู</button>
            </div>
            <ul id="leaderboard-list">
                <!-- ุณูุชู ููุก ุงููุงุฆูุฉ ููุง ุจูุงุณุทุฉ JS -->
                <p id="leaderboard-loading">ุฌุงุฑู ุชุญููู ููุญุฉ ุงูุตุฏุงุฑุฉ...</p>
            </ul>
        </div>
    </div>

    <!-- -------------------------------------- -->
    <!-- ุญุงููุงุช ุงูููุงูุฐ ุงูููุจุซูุฉ (Modals) -->
    <!-- -------------------------------------- -->

    <!-- ุงููุงูุฐุฉ ุงูููุจุซูุฉ ุงูุนุงูุฉ (ููุชุฃููุฏุ ุงูุฅุจูุงุบุ ูููุฉ ุงููุฑูุฑ) -->
    <div id="general-modal-overlay" class="modal-overlay">
        <div id="general-modal-content" class="modal-content">
            <h3 id="modal-title">ุนููุงู ุงููุงูุฐุฉ</h3>
            <p id="modal-body">ูุญุชูู ุงููุงูุฐุฉ.</p>
            <div id="modal-inputs">
                <!-- ุญููู ุฅุถุงููุฉ ูุซู ูููุฉ ุงููุฑูุฑ ุฃู ุงูุจูุงุบ -->
            </div>
            <div id="modal-actions" class="modal-actions">
                <button id="modal-btn-confirm" class="btn btn-primary">ุชุฃููุฏ</button>
                <button id="modal-btn-cancel" class="btn btn-secondary">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- ุงุณุชูุฑุงุฏ ููู ุงููุธุงุฆู ูุงูููุทู -->
    <script type="module" src="script.js"></script>
</body>
</html>

